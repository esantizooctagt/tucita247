<div class="pl-0 pt-1 pb-2 col-md-12 mt-1 mb-1 header-route">
    <h3>SERVICES</h3>
</div>
<ng-container *ngIf="service$ | async"></ng-container>
<ng-container *ngIf="saveService$ | async"></ng-container>
<div class="row p-0 m-0">
    <mat-card class="col-sm col-md col-lg-7">
        <form [formGroup]="serviceForm" (ngSubmit)="onSubmit()" class="mt-4">
            <div class="form-field pl-3 pr-3">
                <mat-form-field hintLabel="Name">
                    <input matInput #Name placeholder="Name" maxlength="100" minlength="3" formControlName="Name"
                        [errorStateMatcher]="confirmValidParentMatcher" required>
                    <mat-error *ngIf="f.Name.invalid && f.Name.touched">{{getErrorMessage('Name')}}</mat-error>
                </mat-form-field>
            </div>
            <div class="form-field pl-3 pr-3">
                <mat-form-field hintLabel="Service duration">
                    <input matInput #Name placeholder="Service duration" maxlength="3" minlength="1" formControlName="TimeService"
                        [errorStateMatcher]="confirmValidParentMatcher" required>
                    <mat-error *ngIf="f.TimeService.invalid && f.TimeService.touched">{{getErrorMessage('TimeService')}}</mat-error>
                </mat-form-field>
            </div>
            <div class="form-field pl-3 pr-3">
                <mat-form-field hintLabel="Customer per Bucket">
                    <input matInput #Name placeholder="Customer per Bucket" maxlength="3" minlength="1" formControlName="CustomerPerTime"
                        [errorStateMatcher]="confirmValidParentMatcher" required>
                    <mat-error *ngIf="f.CustomerPerTime.invalid && f.CustomerPerTime.touched">{{getErrorMessage('CustomerPerTime')}}</mat-error>
                </mat-form-field>
            </div>
            <div class="form-field pl-3 pr-3">
                <mat-radio-group formControlName="Color" required>
                    <mat-radio-button class="mb-2" *ngFor="let item of palette" [value]="item.id"><div class="square-color" [ngStyle]="{'background': item.value}"></div></mat-radio-button>
                </mat-radio-group>
            </div>
            <div class="form-field-check ml-3 pr-3"
                *ngIf="serviceForm.value.ServiceId !== '' && serviceForm.value.ServiceId !== null">
                <mat-checkbox formControlName="Status">Status</mat-checkbox>
            </div>
            <div>
                <button mat-flat-button color="primary" id="save" [disabled]="!serviceForm.valid"
                    class="button-action ml-3 mr-3 mt-2">Save</button>
                <button mat-flat-button color="accent" id="cancel" type="button" (click)="onCancel()"
                    class="button-action mt-2">Cancel</button>
            </div>
        </form>
    </mat-card>
</div>