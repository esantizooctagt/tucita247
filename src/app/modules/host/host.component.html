<div class="container-fluid host-container" *ngIf="!(isHandset$ | async)">
    <div class="row">
        <ng-container *ngIf="updAppointment$ | async"></ng-container>
        <ng-container *ngIf="openLoc$ | async"></ng-container>
        <ng-container *ngIf="liveData$ | async"></ng-container>
        <ng-container *ngIf="closedLoc$ | async"></ng-container>
        <ng-container *ngIf="resetLoc$ | async"></ng-container>
        <ng-container *ngIf="cancelAppo$ | async"></ng-container>
        <ng-container *ngIf="newCurrTime$ | async"></ng-container>
        <ng-container *ngIf="runQeues$ | async"></ng-container>
        <ng-container *ngIf="sleep$ | async"></ng-container>
        <div class="col-md-12 pt-2">
            <mat-accordion>
                <mat-expansion-panel class="mt-2" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title class="title-text">{{panelOpenState ? hideDetails : seeDetails}}</mat-panel-title>
                        <mat-panel-description>
                             {{(textOpenLocation != '' &&  operationText != '' ? textOpenLocation + ' :  ' + operationText : '')}}
                        </mat-panel-description>
                    </mat-expansion-panel-header>
                    <div class="row space-row mt-2 mb-2">
                        <div class="col-sm-3 p-0 m-auto">
                            <div class="row">
                                <button type="button" mat-icon-button color="primary" class="learn-btn" (click)="learnMore(27)">
                                    <mat-icon>help</mat-icon>
                                </button>
                                <mat-slide-toggle color="primary" [(ngModel)]="locationStatus" (change)="locationStatusChange($event)">{{textOpenLocation}}</mat-slide-toggle>
                            </div>
                            <div class="row">
                                <button mat-stroked-button class="action-buttons" color="secondary" type="button" (click)="resetLocation()" i18n="Reset|text in citas@@host.reset">Reset Location</button>
                                <button type="button" mat-icon-button color="primary" class="learn-btn-0" (click)="learnMore(44)">
                                    <mat-icon>help</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div class="operation-buttons col-sm-9 p-0">
                            <ng-container *ngIf="getWalkIns$ | async"></ng-container>
                            <ng-container *ngIf="manualCheckOut$ | async"></ng-container>
                            <mat-form-field appearance="fill" class="pr-3">
                                <mat-label>Select location</mat-label>
                                <mat-select name="locations" [(value)]="locationId" (selectionChange)="onLocationChange($event.value)">
                                    <mat-option *ngFor="let item of locations" [value]="item.LocationId">
                                    {{item.Name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-form-field appearance="fill" class="pr-3">
                                <mat-label>Select provider</mat-label>
                                <mat-select name="providers" [(value)]="providerId" (selectionChange)="onServiceChange($event)">
                                    <mat-option class="" value="0" i18n="all providers@@shared.allproviders">ALL PROVIDERS</mat-option>
                                    <mat-option *ngFor="let item of Providers" [value]="item.ProviderId">
                                    {{item.Name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>
            <div class="mt-2 mb-1">
                <ng-container *ngIf="locationStatus == 1 && manualCheckOut == 1">
                    <mat-label class="label-guests" i18n="Guests|text in citas@@host.guests">Guests</mat-label>
                    <button mat-icon-button (click)="manualGuests=manualGuests+1">
                        <mat-icon class="site-color">add</mat-icon>
                    </button>
                    <input class="input-guests" matInput placeholder="Number of Guests" [(ngModel)]="manualGuests">
                    <!-- <mat-form-field class="pt-3 num-guests" appearance="outline">
                        <input class="input-guests" matInput placeholder="Number of Guests" [(ngModel)]="manualGuests">
                    </mat-form-field> -->
                    <button mat-icon-button (click)="(manualGuests > 1 ? manualGuests=manualGuests-1 : manualGuests)">
                        <mat-icon class="site-color">remove</mat-icon>
                    </button>
                </ng-container>
                <ng-container *ngIf="checkOutQR$ | async"></ng-container>
                <button mat-stroked-button class="action-buttons" *ngIf="locationStatus == 1 && manualCheckOut == 1" color="secondary" type="button" (click)="setManualCheckOut(manualGuests)" i18n="Check Out|text in citas@@host.checkout">
                    <mat-icon class="btn-icon">logout</mat-icon>
                    Check Out
                </button>
                <!--  i18n="Check Out|text in citas@@host.checkout" -->
                <button mat-stroked-button class="action-buttons" *ngIf="locationStatus == 1 && manualCheckOut == 0" color="secondary" type="button" (click)="checkOutQR()">
                    <mat-icon class="btn-icon">logout</mat-icon>
                    Check Out
                </button>
                <button mat-stroked-button class="action-buttons ml-3" *ngIf="locationStatus == 1" (click)="showAppointment()">
                    <mat-icon class="btn-icon">add</mat-icon>
                    Add
                </button>
                <ng-container *ngIf="reload$ | async"></ng-container>
                <button mat-stroked-button class="action-buttons ml-3" *ngIf="locationStatus == 1" (click)="reloadData()">
                    <mat-icon class="btn-icon">vertical_align_bottom</mat-icon>
                    Download
                </button>
                <!-- <mat-icon class="download-ico" *ngIf="locationStatus == 1" (click)="reloadData()" svgIcon="download"></mat-icon> -->
            </div>
            <div class="row space-row">
                <ng-container *ngIf="quantityPeople$ | async"></ng-container>
                <div *ngIf="locationStatus == 1" class="col-md-2" [ngClass]="{
                    'qty-people-white': perLocation < 80,
                    'qty-people-black': perLocation < 95,
                    'qty-people-white-02': perLocation >= 95}">{{qtyPeople}}</div>
                <mat-progress-bar *ngIf="locationStatus == 1" [ngClass]="{
                    'green-bar': perLocation < 80,
                    'yellow-bar': perLocation < 95,
                    'red-bar': perLocation >= 95
                  }" mode="determinate" [value]="perLocation"></mat-progress-bar>
            </div>
        </div>
        <ng-container *ngIf="comments$ | async"></ng-container>
        <ng-container *ngIf="opeHours$ | async"></ng-container>
        <ng-container *ngIf="getLocInfo$ | async"></ng-container>
        <ng-container *ngIf="reasons$ | async"></ng-container>
        <div class="col-sm-6 col-md-8 col-lg-8">
            <ng-container *ngIf="messages$ | async"></ng-container>
            <ng-container *ngIf="appointmentsSche$ | async"></ng-container>
            <ng-container *ngIf="appointmentsWalk$ | async"></ng-container>
            <ng-container *ngIf="appointmentsWaitList$ | async"></ng-container>
            <mat-tab-group mat-stretch-tabs class="tabs-detail">
                <mat-tab i18n-label="Walk-Ins|text in citas@@host.upcomming" label="Upcoming"> 
                    <div cdkDropList 
                        #walkInsList="cdkDropList"
                        (cdkDropListDropped)="drop($event)"
                        [cdkDropListConnectedTo]="[preCheckInList]"
                        [cdkDropListData]="walkIns" class="row space-row drop-qeue">
                        
                        <div class="col-md plan">
                            <div class="row space-row">
                                <div class="col-sm-12 col-md-6 p-0" *ngFor="let item of walkIns;let i=index">
                                    <mat-card class="appCard mr-3 ml-3 mt-3 mb-3" cdkDrag>
                                        <div class="row pr-3 pl-3">
                                            <div *ngIf="!item.OpenItem" class="card-user col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                                <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                                {{item.Name}}
                                            </div>
                                            <div *ngIf="item.OpenItem" class="card-user-disp col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                                <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                                {{item.Name}}
                                            </div>
                                            <div class="col-sm-2 col-md pr-0 pl-0 pb-1">
                                                <div class="div-drag" cdkDragHandle>
                                                    <mat-icon svgIcon="dragdrop"></mat-icon>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pr-3 pl-3">
                                            <div class="card-phone col-sm-9 col-md-9 pl-0 pr-0">{{item.Phone | phone}}</div>
                                            <div class="card-time col-sm-3 col-md pr-0 pl-0">
                                                {{item.DateAppo.substring(0,2) + item.DateAppo.substring(5,8)}}
                                            </div>
                                        </div>
                                        <ng-container *ngIf="item.OpenItem">
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="No. of guests: |text in citas@@host.noguests">Number of guests: </div><div class="card-resultprio col-md">{{item.Guests}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Door: |text in citas@@host.door">Door: </div><div class="card-resultprio-door col-md">{{item.Door}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="On Behalf: |text in citas@@host.onbehalf">On Behalf: </div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  == 0" i18n="Yes@@shared.no">No</div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  != 0" i18n="Yes@@shared.yes">Yes</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Provider != ''">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Provider: |text in citas@@host.providertext">Provider: </div><div class="card-resultprio col-md">{{item.Provider}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Service != ''">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Service: |text in citas@@host.servicetext">Service: </div><div class="card-resultprio col-md">{{item.Service}}</div>
                                            </div>
                                        </ng-container>
                                        <div class="row mb-0 mt-2">
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowCancel(item)" i18n-matTooltip="Cancel this booking|Cancel this booking tooltip@@learnMore.LMCON36" matTooltip="Cancel this booking">
                                                    <mat-icon svgIcon="cancel"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowMessage(item, i, 'walkin');" i18n-matTooltip="Messages|Messages tooltip@@learnMore.LMCON37" matTooltip="Messages">
                                                <mat-icon [matBadgeHidden]="item.Unread != 'H'" matBadgeSize="small" matBadge="*" matBadgePosition="after" matBadgeColor="warn" matBadgeOverlap="true" svgIcon="sms"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onReadyCheckIn(item, 2)" i18n-matTooltip="Ready to check-in|Ready to check-in tooltip@@learnMore.LMCON42" matTooltip="Ready to check-in">
                                                    <mat-icon svgIcon="readycheck"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowDetail(item)">
                                                    <mat-icon svgIcon="expand"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenCanc">
                                            <div class="col-md-12 pl-0 pr-0">
                                                <mat-form-field>
                                                    <mat-label i18n="Cancel reasons|text in citas@@host.cancelreasons">Cancel reasons</mat-label>
                                                    <mat-select [(value)]="selectedWalk[i]">
                                                        <mat-option *ngFor="let reason of reasons" [value]="reason">
                                                            {{reason}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-12 pl-0 pr-0 mt-2 mb-2">
                                                <button mat-flat-button type="button" color="primary" (click)="onCancelApp(item, selectedWalk[i], i, 'walkin')" [disabled]="selectedWalk[i] == undefined" i18n="Cancel Appointment|text in citas@@host.cancelappo">
                                                    Cancel Appointment
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenMess">
                                            <div class="col-sm-10 pl-0 pr-0">
                                                <textarea class="card-text" #messageTextWalk matInput i18n-placeholder="Write a comment...|text in citas@@host.comments" placeholder="Write a comment..."></textarea>
                                            </div>
                                            <div class="button-send col-md pr-0 pl-0">
                                                <button mat-icon-button type="button" (click)="onMessageApp(item.AppId, messageTextWalk ,i, 'walkin')">
                                                    <mat-icon class="send_icon">send</mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-chat pl-3 pr-3 mb-0 mt-3 col-md-12">
                                                <ng-container *ngFor="let item of getCommentsWalk[i];let j=index">
                                                    <div class="row row justify-content-start" id="chat-{{j}}" *ngIf="item.U != undefined">
                                                        <div class="card-chat-user col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                            <div class="card-chat-time">{{item.T}}</div>
                                                            {{item.U}}
                                                        </div>
                                                    </div>
                                                    <div class="row justify-content-end" id="chat-{{j}}" *ngIf="item.H != undefined">
                                                        <div class="card-chat-host col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                            <div class="card-chat-time">{{item.T}}</div>
                                                            {{item.H}}
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                            </div>
                        </div>
                    </div> 
                </mat-tab>
                <mat-tab i18n-label="Waiting List|text in citas@@host.waitinglist" label="Waiting List">
                    <div cdkDropList 
                        #waitingList="cdkDropList"
                        (cdkDropListDropped)="drop($event)"
                        [cdkDropListConnectedTo]="[preCheckInList]"
                        [cdkDropListData]="waitlist" class="row space-row drop-qeue">
                        
                        <!-- <div class="title-qeue" i18n="Waiting List|text in citas@@host.waitinglist">Waiting List</div> -->
                        <div class="col-md plan">
                            <div class="row space-row">
                                <div class="col-sm-12 col-md-6 p-0" *ngFor="let item of waitlist;let i=index">
                                    <mat-card class="appCard mr-3 ml-3 mt-3 mb-3" cdkDrag>
                                        <div class="row pr-3 pl-3">
                                            <div *ngIf="!item.OpenItem" class="card-user col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                                <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                                {{item.Name}}
                                            </div>
                                            <div *ngIf="item.OpenItem" class="card-user-disp col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                                <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                                {{item.Name}}
                                            </div>
                                            <div class="col-sm-2 col-md pr-0 pl-0 pb-1">
                                                <div class="div-drag" cdkDragHandle>
                                                    <mat-icon svgIcon="dragdrop"></mat-icon>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pr-3 pl-3">
                                            <div class="card-phone col-sm-9 col-md-9 pl-0 pr-0">{{item.Phone | phone}}</div>
                                            <div class="card-time col-sm-3 col-md pr-0 pl-0">
                                                {{item.DateAppo.substring(0,2) + item.DateAppo.substring(5,8)}}
                                            </div>
                                        </div>
                                        <ng-container *ngIf="item.OpenItem">
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="No. of guests: |text in citas@@host.noguests">Number of guests: </div><div class="card-resultprio col-md">{{item.Guests}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Door: |text in citas@@host.door">Door: </div><div class="card-resultprio-door col-md">{{item.Door}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="On Behalf: |text in citas@@host.onbehalf">On Behalf: </div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  == 0" i18n="Yes@@shared.no">No</div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  != 0" i18n="Yes@@shared.yes">Yes</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Provider != ''">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Provider: |text in citas@@host.providertext">Provider: </div><div class="card-resultprio col-md">{{item.Provider}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Service != ''">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Service: |text in citas@@host.servicetext">Service: </div><div class="card-resultprio col-md">{{item.Service}}</div>
                                            </div>
                                        </ng-container>
                                        <div class="row mb-0 mt-2">
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowCancel(item)" i18n-matTooltip="Cancel this booking|Cancel this booking tooltip@@learnMore.LMCON36" matTooltip="Cancel this booking">
                                                    <mat-icon svgIcon="cancel"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowMessage(item, i, 'waitlist');" i18n-matTooltip="Messages|Messages tooltip@@learnMore.LMCON37" matTooltip="Messages">
                                                <mat-icon [matBadgeHidden]="item.Unread != 'H'" matBadgeSize="small" matBadge="*" matBadgePosition="after" matBadgeColor="warn" matBadgeOverlap="true" svgIcon="sms"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onReadyCheckIn(item, 3)" i18n-matTooltip="Ready to check-in|Ready to check-in tooltip@@learnMore.LMCON42" matTooltip="Ready to check-in">
                                                    <mat-icon svgIcon="readycheck"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowDetail(item)">
                                                    <mat-icon svgIcon="expand"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenCanc">
                                            <div class="col-md-12 pl-0 pr-0">
                                                <mat-form-field>
                                                    <mat-label i18n="Cancel reasons|text in citas@@host.cancelreasons">Cancel reasons</mat-label>
                                                    <mat-select [(value)]="selectedWaitList[i]">
                                                        <mat-option *ngFor="let reason of reasons" [value]="reason">
                                                            {{reason}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-12 pl-0 pr-0 mt-2 mb-2">
                                                <button mat-flat-button type="button" color="primary" (click)="onCancelApp(item, selectedWaitList[i], i, 'waitlist')" [disabled]="selectedWaitList[i] == undefined" i18n="Cancel Appointment|text in citas@@host.cancelappo">
                                                    Cancel Appointment
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenMess">
                                            <div class="col-sm-10 pl-0 pr-0">
                                                <textarea class="card-text" #messageTextWaitList matInput i18n-placeholder="Write a comment...|text in citas@@host.comments" placeholder="Write a comment..."></textarea>
                                            </div>
                                            <div class="button-send col-md pr-0 pl-0">
                                                <button mat-icon-button type="button" (click)="onMessageApp(item.AppId, messageTextWaitList ,i, 'waitlist')">
                                                    <mat-icon class="send_icon">send</mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-chat pl-3 pr-3 mb-0 mt-3 col-md-12">
                                                <ng-container *ngFor="let item of getCommentsWaitList[i]">
                                                    <div class="row row justify-content-start" id="chat-{{i}}" *ngIf="item.U != undefined">
                                                        <div class="card-chat-user col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                            <div class="card-chat-time">{{item.T}}</div>
                                                            {{item.U}}
                                                        </div>
                                                    </div>
                                                    <div class="row justify-content-end" id="chat-{{i}}" *ngIf="item.H != undefined">
                                                        <div class="card-chat-host col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                            <div class="card-chat-time">{{item.T}}</div>
                                                            {{item.H}}
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                            </div>
                        </div>
                    </div> 
                </mat-tab>
                <mat-tab i18n-label="Citas|text in citas@@host.citas" label="Citas"> 
                    <div cdkDropList
                        #scheduleList="cdkDropList"
                        (cdkDropListDropped)="drop($event)"
                        [cdkDropListConnectedTo]="[preCheckInList]"
                        [cdkDropListData]="schedule" class="row space-row drop-qeue">
                        <!-- col-md plan -->
                        <div class="col-md plan">
                            <div class="row space-row">
                                <div class="col-sm-12 col-md-6 p-0" *ngFor="let item of schedule;let i=index">
                                    <mat-card class="appCard mr-3 ml-3 mt-3 mb-3" cdkDrag>
                                        <div class="row pr-3 pl-3">
                                            <div *ngIf="!item.OpenItem" class="card-user col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                                <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                                {{item.Name}}
                                            </div>
                                            <div *ngIf="item.OpenItem" class="card-user-disp col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                                <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                                <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                                {{item.Name}}
                                            </div>
                                            <div class="col-sm-2 col-md pr-0 pl-0 pb-1">
                                                <div class="div-drag" cdkDragHandle>
                                                    <mat-icon svgIcon="dragdrop"></mat-icon>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row pr-3 pl-3">
                                            <div class="card-phone col-sm-9 col-md-9 pl-0 pr-0">{{item.Phone | phone}}</div>
                                            <div class="card-time col-sm-3 col-md pr-0 pl-0">
                                                {{item.DateAppo.substring(0,2) + item.DateAppo.substring(5,8)}}
                                            </div>
                                        </div>
                                        <ng-container *ngIf="item.OpenItem">
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="No. of guests: |text in citas@@host.noguests">Number of guests: </div><div class="card-resultprio col-md">{{item.Guests}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Door: |text in citas@@host.door">Door: </div><div class="card-resultprio-door col-md">{{item.Door}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="On Behalf: |text in citas@@host.onbehalf">On Behalf: </div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  == 0" i18n="Yes@@shared.no">No</div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  != 0" i18n="Yes@@shared.yes">Yes</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Provider != ''">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Provider: |text in citas@@host.providertext">Provider: </div><div class="card-resultprio col-md">{{item.Provider}}</div>
                                            </div>
                                            <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Service != ''">
                                                <div class="card-contentprio col-md-6 pl-0" i18n="Service: |text in citas@@host.servicetext">Service: </div><div class="card-resultprio col-md">{{item.Service}}</div>
                                            </div>
                                        </ng-container>
                                        <div class="row mb-0 mt-2">
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowCancel(item)" i18n-matTooltip="Cancel this booking|Cancel this booking tooltip@@learnMore.LMCON36" matTooltip="Cancel this booking">
                                                    <mat-icon svgIcon="cancel"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowMessage(item, i, 'schedule');" i18n-matTooltip="Messages|Messages tooltip@@learnMore.LMCON37" matTooltip="Messages">
                                                    <mat-icon [matBadgeHidden]="item.Unread != 'H'" matBadgeSize="small" matBadge="*" matBadgePosition="after" matBadgeColor="warn" matBadgeOverlap="true" svgIcon="sms"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onReadyCheckIn(item, 1)" i18n-matTooltip="Ready to check-in|Ready to check-in tooltip@@learnMore.LMCON42" matTooltip="Ready to check-in">
                                                    <mat-icon svgIcon="readycheck"></mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-actions-center col-sm-3 p-0">
                                                <button mat-icon-button color="secondary" (click)="onShowDetail(item)">
                                                    <mat-icon svgIcon="expand"></mat-icon>
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenCanc">
                                            <div class="col-md-12 pl-0 pr-0">
                                                <mat-form-field>
                                                    <mat-label i18n="Cancel reasons|text in citas@@host.cancelreasons">Cancel reasons</mat-label>
                                                    <mat-select [(value)]="selectedSche[i]">
                                                        <mat-option *ngFor="let reason of reasons" [value]="reason">
                                                            {{reason}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-md-12 pl-0 pr-0 mt-2 mb-2">
                                                <button mat-flat-button type="button" color="primary" (click)="onCancelApp(item, selectedSche[i], i, 'schedule')" [disabled]="selectedSche[i] == undefined" i18n="Cancel Appointment|text in citas@@host.cancelappo">
                                                    Cancel Appointment
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenMess">
                                            <div class="col-sm-10 pl-0 pr-0">
                                                <textarea class="card-text" #messageTextSche matInput i18n-placeholder="Write a comment...|text in citas@@host.comments" placeholder="Write a comment..."></textarea>
                                            </div>
                                            <div class="button-send col-md pr-0 pl-0">
                                                <button mat-icon-button type="button" (click)="onMessageApp(item.AppId, messageTextSche, i, 'schedule')">
                                                    <mat-icon class="send_icon">send</mat-icon>
                                                </button>
                                            </div>
                                            <div class="card-chat pl-3 pr-3 mb-0 mt-3 col-md-12">
                                                <ng-container *ngFor="let item of getCommentsSche[i]">
                                                    <div class="row row justify-content-start" id="chat-{{i}}" *ngIf="item.U != undefined">
                                                        <div class="card-chat-user col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                            <div class="card-chat-time">{{item.T}}</div>
                                                            {{item.U}}
                                                        </div>
                                                    </div>
                                                    <div class="row justify-content-end" id="chat-{{i}}" *ngIf="item.H != undefined">
                                                        <div class="card-chat-host col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                            <div class="card-chat-time">{{item.T}}</div>
                                                            {{item.H}}
                                                        </div>
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </mat-card>
                                </div>
                            </div>
                        </div>
                    </div> 
                </mat-tab>
            </mat-tab-group>
        </div>
        <div class="col-sm-6 col-md-4 col-lg-4 pl-0">
            <div class="row space-row">
                <div class="col-md mt-2 ready-text" i18n="Ready To Check-In|text in citas@@host.readycheckin">
                    Ready To Check-In
                </div>
            </div>
            <div class="row space-row">
                <div cdkDropList
                    #preCheckInList="cdkDropList"
                    (cdkDropListDropped)="drop($event)"
                    [cdkDropListConnectedTo]="[walkInsList, scheduleList, waitingList]"
                    [cdkDropListData]="preCheckIn" class="col-md drop-qeue">
                    <ng-container *ngIf="appointmentsPre$ | async"></ng-container>
                    <ng-container *ngIf="onHold$ | async"></ng-container>
                    <div class="col-md precheck">
                        <ng-container *ngIf="checkIn$ | async"></ng-container>
                        <ng-container *ngIf="newTime$ | async"></ng-container>
                        <mat-card class="mt-3 ml-2 appCard" *ngFor="let item of preCheckIn;let i=index" cdkDrag>
                            <div class="row pr-3 pl-3">
                                <div *ngIf="!item.OpenItem" class="card-user col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                    <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                    <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                    <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                    {{item.Name}}
                                </div>
                                <div *ngIf="item.OpenItem" class="card-user-disp col-sm-10 col-md-11 pl-0 pr-0 pb-1">
                                    <mat-icon *ngIf="item.Disability == '1'" svgIcon="older"></mat-icon>
                                    <mat-icon *ngIf="item.Disability == '2'" svgIcon="pregnant"></mat-icon>
                                    <mat-icon *ngIf="item.Disability == '3'" svgIcon="handicap"></mat-icon>
                                    {{item.Name}}
                                </div>
                                <div class="col-sm-2 col-md pr-0 pl-0 pb-1">
                                    <div class="div-drag" cdkDragHandle>
                                        <mat-icon svgIcon="dragdrop"></mat-icon>
                                    </div>
                                </div>
                            </div>
                            <div class="row pr-3 pl-3 data-hg">
                                <div class="card-phone col-sm-7 col-md-8 pl-0 pr-0">{{item.Phone | phone}}</div>
                                <div class="col-sm-5 col-md-4 p-0 elapsed-time">
                                    <mat-icon class="size-icon play-btn" svgIcon="clock" *ngIf="item.ElapsedTime != '' && item.Pause == '0'" (click)="onPause(item, '1')" i18n-matTooltip="Resume|Resume@@host.resume" matTooltip="Resume"></mat-icon>
                                    <mat-icon class="size-icon play-btn" svgIcon="pause" *ngIf="item.ElapsedTime != '' && item.Pause == '1'" (click)="onPause(item, '0')" i18n-matTooltip="Pause|Resume@@host.pause" matTooltip="Pause"></mat-icon>
                                    {{(item.ElapsedTime == undefined ? '0' : item.ElapsedTime) + ' ' + ((item.ElapsedTime == undefined ? 0 : item.ElapsedTime) > 1 ? 'mins' : 'min')}}
                                </div>
                            </div>
                            <ng-container *ngIf="item.OpenItem">
                                <div class="row pr-3 pl-3 mt-2 mb-2">
                                    <div class="card-contentprio col-md-6 pl-0" i18n="No. of guests: |text in citas@@host.noguests">Number of guests: </div><div class="card-resultprio col-md">{{item.Guests}}</div>
                                </div>
                                <div class="row pr-3 pl-3 mt-2 mb-2">
                                    <div class="card-contentprio col-md-6 pl-0" i18n="Door: |text in citas@@host.door">Door: </div><div class="card-resultprio-door col-md">{{item.Door}}</div>
                                </div>
                                <div class="row pr-3 pl-3 mt-2 mb-2">
                                    <div class="card-contentprio col-md-6 pl-0" i18n="On Behalf: |text in citas@@host.onbehalf">On Behalf: </div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  == 0" i18n="Yes@@shared.no">No</div><div class="card-resultprio col-md" *ngIf="item.OnBehalf  != 0" i18n="Yes@@shared.yes">Yes</div>
                                </div>
                                <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Provider != ''">
                                    <div class="card-contentprio col-md-6 pl-0" i18n="Provider: |text in citas@@host.providertext">Provider: </div><div class="card-resultprio col-md">{{item.Provider}}</div>
                                </div>
                                <div class="row pr-3 pl-3 mt-2 mb-2" *ngIf="item.Service != ''">
                                    <div class="card-contentprio col-md-6 pl-0" i18n="Service: |text in citas@@host.servicetext">Service: </div><div class="card-resultprio col-md">{{item.Service}}</div>
                                </div>
                            </ng-container>
                            <div class="row mb-0 mt-2 p-0">
                                <div class="card-actions-center col-sm-3 p-0">
                                    <button mat-icon-button color="secondary" (click)="onShowCancel(item)" i18n-matTooltip="Cancel this booking|Cancel this booking tooltip@@learnMore.LMCON36" matTooltip="Cancel this booking">
                                        <mat-icon svgIcon="cancel"></mat-icon>
                                    </button>
                                </div>
                                <div class="card-actions-center col-sm-3 p-0">
                                    <button mat-icon-button color="secondary" (click)="onShowMessage(item, i, 'checkin');" i18n-matTooltip="Messages|Messages tooltip@@learnMore.LMCON37" matTooltip="Messages">
                                    <mat-icon [matBadgeHidden]="item.Unread != 'H'" matBadgeSize="small" matBadge="*" matBadgePosition="after" matBadgeColor="warn" matBadgeOverlap="true" svgIcon="sms"></mat-icon>
                                    </button>
                                </div>
                                <div class="card-actions-center col-sm-3 p-0">
                                    <button mat-icon-button color="secondary" (click)="onCheckInApp(item)" i18n-matTooltip="Check-in|Check-in tooltip@@learnMore.LMCON43" matTooltip="Check-in">
                                        <mat-icon svgIcon="readycheck"></mat-icon>
                                    </button>
                                </div>
                                <div class="card-actions-center col-sm-3 p-0">
                                    <button mat-icon-button color="secondary" (click)="onShowDetail(item)">
                                        <mat-icon svgIcon="expand"></mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenCanc">
                                <div class="col-md-12 pl-0 pr-0">
                                    <mat-form-field>
                                        <mat-label i18n="Cancel reasons|text in citas@@host.cancelreasons">Cancel reasons</mat-label>
                                        <mat-select [(value)]="selectedCheck[i]">
                                            <mat-option *ngFor="let reason of reasons" [value]="reason">
                                                {{reason}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 pl-0 pr-0 mt-2 mb-2">
                                    <button mat-flat-button type="button" color="primary" (click)="onCancelApp(item, selectedCheck[i], i, 'checkin')" [disabled]="selectedCheck[i] == undefined" i18n="Cancel Appointment|text in citas@@host.cancelappo">
                                        Cancel Appointment
                                    </button>
                                </div>
                            </div>
                            <div class="row pl-3 pr-3 mb-0 mt-3" *ngIf="item.OpenMess">
                                <div class="col-sm-10 pl-0 pr-0">
                                    <textarea class="card-text" #messageTextCheckIn matInput i18n-placeholder="Write a comment...|text in citas@@host.comments" placeholder="Write a comment..."></textarea>
                                </div>
                                <div class="button-send col-md pr-0 pl-0">
                                    <button mat-icon-button type="button" (click)="onMessageApp(item.AppId, messageTextCheckIn ,i, 'checkin')">
                                        <mat-icon class="send_icon">send</mat-icon>
                                    </button>
                                </div>
                                <div class="card-chat pl-3 pr-3 mb-0 mt-3 col-md-12">
                                    <ng-container *ngFor="let item of getCommentsCheck[i]">
                                        <div class="row row justify-content-start" id="chat-{{i}}" *ngIf="item.U != undefined">
                                            <div class="card-chat-user col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                <div class="card-chat-time">{{item.T}}</div>
                                                {{item.U}}
                                            </div>
                                        </div>
                                        <div class="row justify-content-end" id="chat-{{i}}" *ngIf="item.H != undefined">
                                            <div class="card-chat-host col-md-9 pt-2 pb-2 mt-1 mb-1 mr-1 ml-1">
                                                <div class="card-chat-time">{{item.T}}</div>
                                                {{item.H}}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </div>
                        </mat-card>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="(isHandset$ | async)">
    <app-quick-checkin></app-quick-checkin>
</div>